(()=>{"use strict";var t={56:(t,e,n)=>{t.exports=function(t){var e=n.nc;e&&t.setAttribute("nonce",e)}},72:t=>{var e=[];function n(t){for(var n=-1,r=0;r<e.length;r++)if(e[r].identifier===t){n=r;break}return n}function r(t,r){for(var a={},o=[],s=0;s<t.length;s++){var l=t[s],d=r.base?l[0]+r.base:l[0],c=a[d]||0,h="".concat(d," ").concat(c);a[d]=c+1;var p=n(h),u={css:l[1],media:l[2],sourceMap:l[3],supports:l[4],layer:l[5]};if(-1!==p)e[p].references++,e[p].updater(u);else{var f=i(u,r);r.byIndex=s,e.splice(s,0,{identifier:h,updater:f,references:1})}o.push(h)}return o}function i(t,e){var n=e.domAPI(e);return n.update(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap&&e.supports===t.supports&&e.layer===t.layer)return;n.update(t=e)}else n.remove()}}t.exports=function(t,i){var a=r(t=t||[],i=i||{});return function(t){t=t||[];for(var o=0;o<a.length;o++){var s=n(a[o]);e[s].references--}for(var l=r(t,i),d=0;d<a.length;d++){var c=n(a[d]);0===e[c].references&&(e[c].updater(),e.splice(c,1))}a=l}}},113:t=>{t.exports=function(t,e){if(e.styleSheet)e.styleSheet.cssText=t;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(t))}}},314:t=>{t.exports=function(t){var e=[];return e.toString=function(){return this.map(function(e){var n="",r=void 0!==e[5];return e[4]&&(n+="@supports (".concat(e[4],") {")),e[2]&&(n+="@media ".concat(e[2]," {")),r&&(n+="@layer".concat(e[5].length>0?" ".concat(e[5]):""," {")),n+=t(e),r&&(n+="}"),e[2]&&(n+="}"),e[4]&&(n+="}"),n}).join("")},e.i=function(t,n,r,i,a){"string"==typeof t&&(t=[[null,t,void 0]]);var o={};if(r)for(var s=0;s<this.length;s++){var l=this[s][0];null!=l&&(o[l]=!0)}for(var d=0;d<t.length;d++){var c=[].concat(t[d]);r&&o[c[0]]||(void 0!==a&&(void 0===c[5]||(c[1]="@layer".concat(c[5].length>0?" ".concat(c[5]):""," {").concat(c[1],"}")),c[5]=a),n&&(c[2]?(c[1]="@media ".concat(c[2]," {").concat(c[1],"}"),c[2]=n):c[2]=n),i&&(c[4]?(c[1]="@supports (".concat(c[4],") {").concat(c[1],"}"),c[4]=i):c[4]="".concat(i)),e.push(c))}},e}},540:t=>{t.exports=function(t){var e=document.createElement("style");return t.setAttributes(e,t.attributes),t.insert(e,t.options),e}},601:t=>{t.exports=function(t){return t[1]}},659:t=>{var e={};t.exports=function(t,n){var r=function(t){if(void 0===e[t]){var n=document.querySelector(t);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(t){n=null}e[t]=n}return e[t]}(t);if(!r)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");r.appendChild(n)}},825:t=>{t.exports=function(t){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var e=t.insertStyleElement(t);return{update:function(n){!function(t,e,n){var r="";n.supports&&(r+="@supports (".concat(n.supports,") {")),n.media&&(r+="@media ".concat(n.media," {"));var i=void 0!==n.layer;i&&(r+="@layer".concat(n.layer.length>0?" ".concat(n.layer):""," {")),r+=n.css,i&&(r+="}"),n.media&&(r+="}"),n.supports&&(r+="}");var a=n.sourceMap;a&&"undefined"!=typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(a))))," */")),e.styleTagTransform(r,t,e.options)}(e,t,n)},remove:function(){!function(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t)}(e)}}}},971:(t,e,n)=>{n.d(e,{A:()=>s});var r=n(601),i=n.n(r),a=n(314),o=n.n(a)()(i());o.push([t.id,'* {\n  padding: 0;\n  margin: 0;\n  box-sizing: border-box;\n}\n#app {\n  max-width: 1200px;\n  margin: 0 auto;\n  padding: 20px;\n  background-color: #ffffff;\n  border: 2px solid #1e90ff;\n  border-radius: 12px;\n  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);\n  font-family: "Arial", sans-serif;\n  text-align: center;\n}\n#app h1 {\n  font-family: "Arial", sans-serif;\n  font-size: 2.5rem;\n  color: #1e90ff;\n  text-align: center;\n  margin-top: 20px;\n  margin-bottom: 30px;\n  text-shadow: 2px 2px 5px rgba(0, 0, 0, 0.3);\n  background-color: #f0f8ff;\n  padding: 15px;\n  border-radius: 8px;\n  border: 2px solid #1e90ff;\n  display: inline-block;\n  margin-left: auto;\n  margin-right: auto;\n}\n\n/* Container holding both grids */\n.grids-container {\n  display: flex;\n  justify-content: center;\n  gap: 40px;\n  margin-top: 30px;\n}\n\n/* Shared grid styles */\n.grid {\n  display: grid;\n  grid-template-columns: repeat(10, 40px);\n  grid-template-rows: repeat(10, 40px);\n  gap: 2px;\n}\n\n/* Shared cell styles */\n.cell {\n  width: 40px;\n  height: 40px;\n  background-color: #cce0ff;\n  border: 1px solid #333;\n  box-sizing: border-box;\n  cursor: pointer;\n  transition: background-color 0.2s ease;\n}\n\n/* Specific side styles (optional) */\n.left-side {\n  background-color: #d1ffd1; /* light green */\n}\n\n.right-side {\n  background-color: #ffd1d1; /* light red */\n}\n\n/* Optional: Hover effect */\n.cell:hover {\n  opacity: 0.5;\n  border: red solid 2px;\n}\n\n.controls-container {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  gap: 40px;\n  margin-top: 30px;\n  flex-wrap: wrap;\n}\n\n.randomize-btn {\n  padding: 10px 20px;\n  font-size: 16px;\n  background-color: #1e90ff;\n  color: white;\n  border: none;\n  border-radius: 6px;\n  cursor: pointer;\n  transition: background-color 0.2s ease;\n}\n\n.randomize-btn:hover {\n  background-color: #1c7ed6;\n}\n\n#game-mode-form {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  gap: 10px;\n  background-color: #f5f5f5;\n  padding: 10px 20px;\n  border-radius: 8px;\n  border: 1px solid #ccc;\n}\n\n#game-mode-form label {\n  display: flex;\n  align-items: center;\n  font-size: 16px;\n  cursor: pointer;\n  gap: 8px;\n}\n\n#game-mode-form input[type="radio"] {\n  width: 18px;\n  height: 18px;\n  accent-color: #007bff;\n}\n#start-game-btn {\n  margin-bottom: 20px;\n  padding: 10px 20px;\n  font-size: 18px;\n  background-color: #007bff;\n  color: white;\n  border: none;\n  border-radius: 6px;\n  cursor: pointer;\n  transition: background-color 0.3s;\n  display: block;\n  margin: auto;\n}\n\n#start-game-btn:hover {\n  background-color: #0056b3;\n}\n.ship {\n  background-color: #0b08af;\n}\n\n.hit {\n  background-color: red;\n}\n.miss {\n  background-color: rgb(160, 161, 158);\n}\n.cell.hit:hover {\n  background-color: red;\n}\n.cell.miss:hover {\n  background-color: rgb(160, 161, 158);\n}\n.focus {\n  opacity: 0.5;\n}\n',""]);const s=o}},e={};function n(r){var i=e[r];if(void 0!==i)return i.exports;var a=e[r]={id:r,exports:{}};return t[r](a,a.exports,n),a.exports}n.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return n.d(e,{a:e}),e},n.d=(t,e)=>{for(var r in e)n.o(e,r)&&!n.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})},n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),n.nc=void 0;class r{constructor(t,e,n){this.name=t,this.board=e,this.ships=n}isSunk_ship(t){let e=t[0],n=t[1],r=t[2];if(t[3]){for(let t=e;t<e+r;t++)if(1==this.board.check_cell(t,n))return!1}else for(let t=n;t<n+r;t++)if(1==this.board.check_cell(e,t))return!1;return!0}receive_attack(t,e){const n=this.board.attack_cell(t,e);let r=null;for(let t=0;t<this.ships.length;t++)this.isSunk_ship(this.ships[t])&&(r=this.ships[t],this.ships.splice(t,1),t--);return{shoot:n,sunk:r}}is_allSunk(){return 0==this.ships.length}remaining_ships(){return this.ships.length}}class i extends r{constructor(t,e,n){super(t,e,n),this.op_board=Array.from({length:e.height},()=>Array(e.width).fill(0))}#t(t,e){return Math.floor(Math.random()*(e-t+1))+t}get_attack_position(){let t=[],e=[0,0,1,-1],n=[1,-1,0,0];for(let r=0;r<this.board.height;r++)for(let i=0;i<this.board.width;i++)if(0==this.op_board[r][i]){t.push([r,i]);for(let t=0;t<4;t++){let a=r+e[t],o=i+n[t];if(!(a<0||a>=this.board.height||o<0||o>=this.board.width)&&1==this.op_board[a][o])return[r,i]}}return t[this.#t(0,t.length-1)]}mark_corners(t,e){let n=[1,1,-1,-1],r=[1,-1,1,-1];for(let i=0;i<4;i++){let a=t+n[i],o=e+r[i];a>=0&&a<this.board.height&&o>=0&&o<this.board.width&&(this.op_board[a][o]=2)}}set_attack_result(t,e,n){if(this.op_board[t][e]=2,0!=n.shoot&&(this.op_board[t][e]=1,this.mark_corners(t,e),null!==n.sunk)){let r,i;if([t,e,r,i]=n.sunk,i)for(let n=t;n<t+r;n++)this.op_board[n][e]=3;else for(let n=e;n<e+r;n++)this.op_board[t][n]=3}}}class a{constructor(t,e){this.board=Array.from({length:e},()=>Array(t).fill(0)),this.width=t,this.height=e}get_board(){return this.board}clear(){for(let t=0;t<10;t++)for(let e=0;e<10;e++)this.board[t][e]=0}check_adjacent(t,e){const n=[0,0,0,1,1,1,-1,-1,-1],r=[0,1,-1,0,1,-1,0,1,-1];for(let i=0;i<9;i++){let a=t+n[i],o=e+r[i];if(a>=0&&a<this.height&&o>=0&&o<this.width&&this.board[a][o])return!0}return!1}add_ship_validation(t,e,n,r){if(e<0||e>=this.width||t<0||t>=this.height)return!1;if(r){if(t+n>=this.height)return!1;for(let r=t;r<t+n;r++)if(this.check_adjacent(r,e))return!1;return!0}if(e+n>=this.width)return!1;for(let r=e;r<e+n;r++)if(this.check_adjacent(t,r))return!1;return!0}add_ship(t,e,n,r){if(!this.add_ship_validation(t,e,n,r))return!1;if(r)for(let r=t;r<t+n;r++)this.board[r][e]=1;else for(let r=e;r<e+n;r++)this.board[t][r]=1;return!0}check_cell(t,e){return this.board[t][e]}#t(t,e){return Math.floor(Math.random()*(e-t+1))+t}init_custom(t){let e,n,r,i;this.clear();for(let a of t)if([e,n,r,i]=a,!this.add_ship_validation(e,n,r,i))return!1;for(let a of t)[e,n,r,i]=a,this.add_ship(e,n,r,i);return!0}init_random(t){this.clear();let e=[];for(const[n,r]of t)for(let t=0;t<r;t++)for(;;){let t=this.#t(0,this.height),r=this.#t(0,this.width),i=this.#t(0,1);if(this.add_ship(t,r,n,i)){e.push([t,r,n,i]);break}}return e}attack_cell(t,e){const n=this.board[t][e];return this.board[t][e]=2,n}print(){for(let t=0;t<this.height;t++)console.log(this.board[t])}}class o{constructor(){}clear_ships(){this.grid_view[player_number].forEach(t=>{t.forEach(t=>{t.classList.remove("ship")})})}bindStartGame(t){document.querySelector("#start-game-btn").addEventListener("click",e=>{t()})}init(){this.draw_header(),this.draw_start_btn(),this.draw_grids(),this.draw_btns(),this.randomize_init()}randomize_grid(t){this.grid_view[t].forEach(t=>{t.forEach(t=>{t.classList.remove("ship")})});let e=null;null!==this.make_random_player&&(e=this.make_random_player(t)),e.forEach(e=>{let n=e[0],r=e[1],i=e[2];if(e[3])for(let e=n;e<n+i;e++)this.grid_view[t][e][r].classList.add("ship");else for(let e=r;e<r+i;e++)this.grid_view[t][n][e].classList.add("ship")})}randomize_init(){this.randomize_grid(0),document.querySelector(".randomize-btn").addEventListener("click",t=>{this.randomize_grid(0)})}append_to_app(t){document.getElementById("app").appendChild(t)}draw_header(){const t=document.createElement("h1");t.textContent="Battelship Game !!",this.append_to_app(t)}draw_start_btn(){const t=document.createElement("button");t.textContent="Start Game",t.id="start-game-btn",this.append_to_app(t)}draw_grids(){this.grid_view=[[],[]];const t=document.createElement("div");t.classList.add("grid","left-grid");const e=document.createElement("div");e.classList.add("grid","right-grid");for(let e=0;e<10;e++){const n=[];for(let r=0;r<10;r++){const i=document.createElement("div");i.classList.add("cell","left-side"),i.dataset.j=r,i.dataset.i=e,t.appendChild(i),n.push(i)}this.grid_view[0].push(n)}for(let t=0;t<10;t++){const n=[];for(let r=0;r<10;r++){const i=document.createElement("div");i.classList.add("cell","right-side"),i.dataset.j=r,i.dataset.i=t,e.appendChild(i),n.push(i)}this.grid_view[1].push(n)}const n=document.createElement("div");n.classList.add("grids-container"),n.appendChild(t),n.appendChild(e),this.append_to_app(n)}draw_btns(){const t=document.createElement("div");t.classList.add("controls-container");const e=document.createElement("button");e.textContent="Randomize",e.classList.add("randomize-btn");const n=document.createElement("button");n.textContent="Randomize",n.classList.add("randomize-btn");const r=document.createElement("form");r.id="game-mode-form";const i=document.createElement("label"),a=document.createElement("input");a.type="radio",a.name="mode",a.value="single",a.checked=!0,i.appendChild(a),i.appendChild(document.createTextNode("Single Player"));const o=document.createElement("label"),s=document.createElement("input");s.type="radio",s.name="mode",s.value="multi",r.appendChild(i),r.appendChild(o),t.appendChild(e),t.appendChild(r),this.append_to_app(t)}add_focus(t){this.grid_view[t].forEach(t=>{t.forEach(t=>{t.classList.add("focus")})}),this.grid_view[1-t].forEach(t=>{t.forEach(t=>{t.classList.remove("focus")})})}async get_attack_position(t){return t=1-t,this.add_focus(1-t),new Promise(e=>{this.grid_view[t].forEach(n=>{n.forEach(n=>{const r=n=>{const i=parseInt(n.target.dataset.j),a=parseInt(n.target.dataset.i);this.grid_view[t].forEach(t=>{t.forEach(t=>t.removeEventListener("click",r))}),e([a,i])};n.addEventListener("click",r)})})})}update_ui(){}async show_winner(t){}show_attack_result(t,e,n,r){console.log(n),2!=n.shoot?(null!==n.sunk&&this.sunk_ship(n.sunk),1==n.shoot?this.success_shoot(t,e,r):this.miss_shoot(t,e,r)):this.already_broken(t,e)}already_broken(t,e){alert("already broken")}sunk_ship(t){alert("Ship Sunk blo blo blo blo ~ ~ ~")}success_shoot(t,e,n){this.grid_view[1-n][t][e].classList.add("hit")}miss_shoot(t,e,n){this.grid_view[1-n][t][e].classList.add("miss")}}const s=[[4,1],[3,2],[2,3],[1,4]];class l{reset(){this.init(),this.init_UIcontroller()}constructor(){this.turn=1,this.gameover=!1,this.ui_controller=new o,this.player=[null,null]}setup(){this.reset()}init_UIcontroller(){this.ui_controller.make_custome_player=(t,e)=>this.player[t].board.init_custom(e),this.ui_controller.make_random_player=t=>this.player[t].board.init_random(s),this.ui_controller.change_player_type=(t,e)=>(this.player[t]="human"==e?this.create_player("human",!0,null):this.create_ai_player("AI"),this.player[t].board),this.ui_controller.get_player_status=t=>({board:this.player[t].board.get_board(),remaining_ships:this.player[t].remaining_ships()}),this.ui_controller.init(),this.ui_controller.bindStartGame(this.start.bind(this))}create_player(t,e,n){const i=new a(10,10);if(e)n=i.init_random(s);else if(!i.init_custom(n))return null;return new r(t,i,n)}create_ai_player(t){const e=new a(10,10),n=e.init_random(s);return new i(t,e,n)}init(){if(this.player[0]=this.create_player("human",!0,null),this.player[1]=this.create_ai_player("AI"),null===this.player[0]||null===this.player[1])throw"One of the players has null value"}async win_check(){if(this.player[0].is_allSunk())return this.gameover=!0,void await this.ui_controller.show_winner(this.player[1].name);this.player[1].is_allSunk()&&(this.gameover=!0,await this.ui_controller.show_winner(this.player[0].name))}async start(){for(;!this.gameover;)await this.make_turn(),this.ui_controller.update_ui(),await this.win_check()}async get_attack_position(t){return this.player[t]instanceof i?this.player[t].get_attack_position():await this.ui_controller.get_attack_position(t)}show_attack_result(t,e,n,r){this.ui_controller.show_attack_result(t,e,n,r),this.player[r]instanceof i&&this.player[r].set_attack_result(t,e,n)}async play_turn(t){let e,n;[e,n]=await this.get_attack_position(t);const r=this.player[1-t].receive_attack(e,n);return this.show_attack_result(e,n,r,t),2!=r.shoot}async sleep(t){return new Promise(e=>setTimeout(e,t))}async make_turn(){let t;t=1&this.turn?await this.play_turn(0):await this.play_turn(1),t&&(this.turn++,this.turn%2==0&&await this.sleep(1e3))}}var d=n(72),c=n.n(d),h=n(825),p=n.n(h),u=n(659),f=n.n(u),m=n(56),_=n.n(m),g=n(540),b=n.n(g),y=n(113),v=n.n(y),x=n(971),w={};w.styleTagTransform=v(),w.setAttributes=_(),w.insert=f().bind(null,"head"),w.domAPI=p(),w.insertStyleElement=b(),c()(x.A,w),x.A&&x.A.locals&&x.A.locals,document.addEventListener("DOMContentLoaded",()=>{(new l).setup()})})();